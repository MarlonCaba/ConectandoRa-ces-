<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>츼rbol Geneal칩gico - Conectando Ra칤ces</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-tree"></i>
                    <div>
                        <h1>Ra칤ces</h1>
                        <span>츼rbol geneal칩gico</span>
                    </div>
                </div>
                <nav>
                    <a href="#arbol">츼rbol</a>
                    <a href="#analisis">An치lisis</a>
                    <a href="#exportar">Exportar</a>
                </nav>
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            <!-- SECCI칍N 츼RBOL GENEAL칍GICO -->
            <section id="arbol" class="section">
                <h2>Construye tu 치rbol geneal칩gico</h2>
                <p>Agrega familiares y sus nacionalidades para descubrir qu칠 ciudadan칤as puedes obtener</p>
                
                <div class="tree-container">
                    <div class="tree">
                        <!-- Nivel 2: Abuelos -->
                        <div class="generation generation-2">
                            <div class="person" data-id="abuelo-paterno" onclick="editPerson(this)">
                                <div class="person-content">
                                    <i class="fas fa-user"></i>
                                    <span>Abuelo paterno</span>
                                    <div class="nationality-badges" id="badges-abuelo-paterno"></div>
                                </div>
                            </div>
                            <div class="person" data-id="abuela-paterna" onclick="editPerson(this)">
                                <div class="person-content">
                                    <i class="fas fa-user"></i>
                                    <span>Abuela paterna</span>
                                    <div class="nationality-badges" id="badges-abuela-paterna"></div>
                                </div>
                            </div>
                            <div class="person" data-id="abuelo-materno" onclick="editPerson(this)">
                                <div class="person-content">
                                    <i class="fas fa-user"></i>
                                    <span>Abuelo materno</span>
                                    <div class="nationality-badges" id="badges-abuelo-materno"></div>
                                </div>
                            </div>
                            <div class="person" data-id="abuela-materna" onclick="editPerson(this)">
                                <div class="person-content">
                                    <i class="fas fa-user"></i>
                                    <span>Abuela materna</span>
                                    <div class="nationality-badges" id="badges-abuela-materna"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Nivel 1: Padres -->
                        <div class="generation generation-1">
                            <div class="person" data-id="padre" onclick="editPerson(this)">
                                <div class="person-content">
                                    <i class="fas fa-user"></i>
                                    <span>Padre</span>
                                    <div class="nationality-badges" id="badges-padre"></div>
                                </div>
                            </div>
                            <div class="person" data-id="madre" onclick="editPerson(this)">
                                <div class="person-content">
                                    <i class="fas fa-user"></i>
                                    <span>Madre</span>
                                    <div class="nationality-badges" id="badges-madre"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Nivel 0: T칰 -->
                        <div class="generation generation-0">
                            <div class="person person-you" data-id="yo" onclick="editPerson(this)">
                                <div class="person-content">
                                    <i class="fas fa-user"></i>
                                    <span>T칰</span>
                                    <div class="nationality-badges" id="badges-yo"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="controls">
                    <button class="btn" onclick="analyzeNationalities()">
                        <i class="fas fa-search"></i> Analizar Nacionalidades
                    </button>
                    <button class="btn btn-secondary" onclick="clearTree()">
                        <i class="fas fa-trash"></i> Limpiar 츼rbol
                    </button>
                </div>
            </section>
            
            <!-- SECCI칍N AN츼LISIS -->
            <section id="analisis" class="section">
                <h2>Nacionalidades Disponibles</h2>
                <div class="analysis-info">
                    <p><i class="fas fa-info-circle"></i> Se muestran solo las nacionalidades que puedes obtener (excluyendo las que ya tienes)</p>
                </div>
                <div class="results-container" id="results">
                    <div class="nationality-results" id="nationality-results">
                        <p class="placeholder">Completa tu 치rbol geneal칩gico y haz clic en "Analizar Nacionalidades"</p>
                    </div>
                </div>
            </section>
            
            <!-- SECCI칍N EXPORTAR/IMPORTAR -->
            <section id="exportar" class="section">
                <h2>Guardar y Cargar 츼rbol</h2>
                <div class="import-export">
                    <div class="export-section">
                        <h3>Exportar 츼rbol</h3>
                        <p>Guarda tu 치rbol para continuar despu칠s</p>
                        <textarea id="export-data" readonly placeholder="Los datos de tu 치rbol aparecer치n aqu칤..."></textarea>
                        <button class="btn" onclick="exportTree()">
                            <i class="fas fa-download"></i> Generar C칩digo
                        </button>
                        <button class="btn btn-secondary" onclick="copyToClipboard()">
                            <i class="fas fa-copy"></i> Copiar
                        </button>
                    </div>
                    
                    <div class="import-section">
                        <h3>Importar 츼rbol</h3>
                        <p>Carga un 치rbol guardado previamente</p>
                        <textarea id="import-data" placeholder="Pega aqu칤 el c칩digo de tu 치rbol..."></textarea>
                        <button class="btn" onclick="importTree()">
                            <i class="fas fa-upload"></i> Cargar 츼rbol
                        </button>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- MODAL PARA EDITAR PERSONA -->
    <div id="person-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Editar Familiar</h3>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Nombre</label>
                    <input type="text" id="person-name" placeholder="Nombre del familiar">
                </div>
                <div class="form-group">
                    <label>Nacionalidades</label>
                    <div class="nationalities-selector">
                        <div class="selected-nationalities" id="selected-nationalities"></div>
                        <select id="nationality-select">
                            <option value="">Selecciona una nacionalidad...</option>
                            <option value="cuba">游뻟릖 Cuba</option>
                            <option value="estados-unidos">游쥟릖 Estados Unidos</option>
                            <option value="espa침a">游쀯릖 Espa침a</option>
                            <option value="italia">游쉻릖 Italia</option>
                            <option value="portugal">游왫릖 Portugal</option>
                            <option value="alemania">游뾇릖 Alemania</option>
                            <option value="francia">游游 Francia</option>
                            <option value="irlanda">游쉻릖 Irlanda</option>
                            <option value="polonia">游왫릖 Polonia</option>
                            <option value="hungria">游쇓릖 Hungr칤a</option>
                            <option value="grecia">游섫릖 Grecia</option>
                            <option value="mexico">游쓇릖 M칠xico</option>
                            <option value="canada">游뻟릖 Canad치</option>
                            <option value="argentina">游뷣릖 Argentina</option>
                            <option value="chile">游뻟릖 Chile</option>
                        </select>
                        <button class="btn btn-small" onclick="addNationality()">
                            <i class="fas fa-plus"></i> Agregar
                        </button>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="savePerson()">Guardar</button>
                <button class="btn btn-secondary" onclick="closeModal()">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- NOTIFICACIONES -->
    <div id="notification-container"></div>

    <script src="script.js"></script>
</body>
</html>